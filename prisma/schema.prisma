generator client {
  provider      = "prisma-client-js"
  // output        = "node_modules/@prisma/client/.prisma/client"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Org {
  id      Int     @id @default(autoincrement())
  ownerId Int?
  owner   User?   @relation(fields: [ownerId], references: [id])
  week    String?
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  name     String?
  photoURL String?
  role     String  @default("GUEST")
  // ADMIN 
  orgId    Int?
  Org      Org[]
}

model Event {
  id        Int      @id @default(autoincrement())
  title     String
  start     DateTime
  end       DateTime
  allDay    Boolean?
  status    String   @default("ACTIVE")
  // OVERDUE | CANCELED | DELETED (no enums in sqlite)
  service   Service? @relation(fields: [serviceId], references: [id])
  serviceId Int?
}

model Service {
  title  String
  id     Int     @id @default(autoincrement())
  events Event[]
}
