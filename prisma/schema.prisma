generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type OrgSocial {
  facebook  String
  instagram String
  linkedin  String
  tiktok    String
  website   String
  x         String
  youtube   String
}

type OrgWebsiteConfig {
  color    String?
  template String?
}

type OrgWeekDays {
  lunes      Json?
  martes     Json?
  mi_rcoles  Json?
  jueves     Json?
  viernes    Json?
  s_bado     Json?
  domingo    Json?
}

type ServiceConfig {
  confirmation          Boolean
  reminder              Boolean
  survey                Boolean
  whatsapp_confirmation Boolean?
  whatsapp_reminder     Boolean?
}

type ServiceLimit {
  bookings Int
  per      String
}

type ServiceWeekDays {
  lunes      Json?
  martes     Json?
  mi_rcoles  Json?
  jueves     Json?
  viernes    Json?
  s_bado     Json?
  domingo    Json?
}

type UserStripe {
  business_profile    UserStripeBusinessProfile
  /// Could not determine type: the field only had null or empty values in the sample set.
  business_type       Json?
  /// Nested objects had no data in the sample dataset to introspect a nested type.
  capabilities        Json
  charges_enabled     Boolean
  controller          UserStripeController
  country             String
  created             Int
  default_currency    String
  details_submitted   Boolean
  email               String
  external_accounts   UserStripeExternalAccounts
  future_requirements UserStripeFutureRequirements
  id                  String
  /// Nested objects had no data in the sample dataset to introspect a nested type.
  metadata            Json
  object              String
  payouts_enabled     Boolean
  requirements        UserStripeRequirements
  settings            UserStripeSettings
  tos_acceptance      UserStripeTosAcceptance
  type                String
}

type UserStripeBusinessProfile {
  /// Could not determine type: the field only had null or empty values in the sample set.
  annual_revenue                      Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  estimated_worker_count              Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  mcc                                 Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  minority_owned_business_designation Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  name                                Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  product_description                 Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  support_address                     Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  support_email                       Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  support_phone                       Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  support_url                         Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  url                                 Json?
}

type UserStripeController {
  fees                   UserStripeControllerFees
  is_controller          Boolean
  losses                 UserStripeControllerLosses
  requirement_collection String
  stripe_dashboard       UserStripeControllerStripeDashboard
  type                   String
}

type UserStripeControllerFees {
  payer String
}

type UserStripeControllerLosses {
  payments String
}

type UserStripeControllerStripeDashboard {
  type String
}

type UserStripeExternalAccounts {
  /// Could not determine type: the field only had null or empty values in the sample set.
  data        Json?
  has_more    Boolean
  object      String
  total_count Int
  url         String
}

type UserStripeFutureRequirements {
  /// Could not determine type: the field only had null or empty values in the sample set.
  alternatives         Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  current_deadline     Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  currently_due        Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  disabled_reason      Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  errors               Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  eventually_due       Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  past_due             Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  pending_verification Json?
}

type UserStripeRequirements {
  /// Could not determine type: the field only had null or empty values in the sample set.
  alternatives         Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  current_deadline     Json?
  currently_due        String[]
  disabled_reason      String
  /// Could not determine type: the field only had null or empty values in the sample set.
  errors               Json?
  eventually_due       String[]
  past_due             String[]
  /// Could not determine type: the field only had null or empty values in the sample set.
  pending_verification Json?
}

type UserStripeSettings {
  bacs_debit_payments UserStripeSettingsBacsDebitPayments
  branding            UserStripeSettingsBranding
  card_issuing        UserStripeSettingsCardIssuing
  card_payments       UserStripeSettingsCardPayments
  dashboard           UserStripeSettingsDashboard
  invoices            UserStripeSettingsInvoices
  payments            UserStripeSettingsPayments
  payouts             UserStripeSettingsPayouts
  /// Nested objects had no data in the sample dataset to introspect a nested type.
  sepa_debit_payments Json
}

type UserStripeSettingsBacsDebitPayments {
  /// Could not determine type: the field only had null or empty values in the sample set.
  display_name        Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  service_user_number Json?
}

type UserStripeSettingsBranding {
  /// Could not determine type: the field only had null or empty values in the sample set.
  icon            Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  logo            Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  primary_color   Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  secondary_color Json?
}

type UserStripeSettingsCardIssuing {
  tos_acceptance UserStripeSettingsCardIssuingTosAcceptance
}

type UserStripeSettingsCardIssuingTosAcceptance {
  /// Could not determine type: the field only had null or empty values in the sample set.
  date Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  ip   Json?
}

type UserStripeSettingsCardPayments {
  decline_on                        UserStripeSettingsCardPaymentsDeclineOn
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor_prefix       Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor_prefix_kana  Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor_prefix_kanji Json?
}

type UserStripeSettingsCardPaymentsDeclineOn {
  avs_failure Boolean
  cvc_failure Boolean
}

type UserStripeSettingsDashboard {
  /// Could not determine type: the field only had null or empty values in the sample set.
  display_name Json?
  timezone     String
}

type UserStripeSettingsInvoices {
  /// Could not determine type: the field only had null or empty values in the sample set.
  default_account_tax_ids    Json?
  hosted_payment_method_save String?
}

type UserStripeSettingsPayments {
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor       Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor_kana  Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor_kanji Json?
}

type UserStripeSettingsPayouts {
  debit_negative_balances Boolean
  schedule                UserStripeSettingsPayoutsSchedule
  /// Could not determine type: the field only had null or empty values in the sample set.
  statement_descriptor    Json?
}

type UserStripeSettingsPayoutsSchedule {
  delay_days Int
  interval   String
}

type UserStripeTosAcceptance {
  /// Could not determine type: the field only had null or empty values in the sample set.
  date       Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  ip         Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  user_agent Json?
}

type UserMercadoPago {
  user_id       String
  access_token  String
  refresh_token String
  public_key    String
  expires_at    DateTime
}

model Customer {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  comments    String
  createdAt   DateTime @db.Date
  displayName String
  email       String
  orgId       String   @db.ObjectId
  tel         String
  updatedAt   DateTime @db.Date
  org         Org      @relation(fields: [orgId], references: [id])
  events      Event[]
}

model Event {
  id               String    @id @default(auto()) @map("_id") @db.ObjectId
  allDay           Boolean
  archived         Boolean
  createdAt        DateTime  @db.Date
  customerId       String?   @db.ObjectId
  duration         BigInt
  employeeId       String?   @db.ObjectId
  end              DateTime? @db.Date
  notes            String?
  orgId            String    @db.ObjectId
  paid             Boolean
  payment_method   String?
  serviceId        String?   @db.ObjectId
  start            DateTime  @db.Date
  status           String
  title            String
  type             String
  updatedAt        DateTime  @db.Date
  userId           String    @db.ObjectId
  mp_preference_id String?
  mp_payment_id    String?
  customer         Customer? @relation(fields: [customerId], references: [id])
  org              Org       @relation(fields: [orgId], references: [id])
  service          Service?  @relation(fields: [serviceId], references: [id])
}

model Job {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model Org {
  id                 String            @id @default(auto()) @map("_id") @db.ObjectId
  address            String?
  businessType       String?
  customDomain       String?
  customDomainStatus String?
  customDomainDns    Json?
  description        String?
  email              String?
  isActive           Boolean
  /// Could not determine type: the field only had null or empty values in the sample set.
  location           Json?
  name               String
  numberOfEmployees  String?
  ownerId            String            @db.ObjectId
  shopKeeper         String?
  slug               String            @unique
  social             OrgSocial?
  websiteConfig      OrgWebsiteConfig?
  /// Could not determine type: the field only had null or empty values in the sample set.
  week               Json?
  weekDays           OrgWeekDays?
  customers          Customer[]
  events             Event[]
  services           Service[]
}

model Service {
  id            String           @id @default(auto()) @map("_id") @db.ObjectId
  address       String?
  allowMultiple Boolean
  archived      Boolean
  config        ServiceConfig?
  currency      String
  description   String?
  duration      BigInt
  employeeName  String?
  isActive      Boolean
  limit         ServiceLimit?
  name          String
  orgId         String           @db.ObjectId
  paid          Boolean
  payment       Boolean
  photoURL      String?
  place         String
  points        BigInt
  price         BigInt
  seats         BigInt
  slug          String           @unique
  weekDays      ServiceWeekDays?
  org           Org              @relation(fields: [orgId], references: [id])
  events        Event[]
}

model User {
  id            String           @id @default(auto()) @map("_id") @db.ObjectId
  accessToken   String?
  displayName   String?
  email         String           @unique
  emailVerified Boolean
  orgId         String?          @db.ObjectId
  orgIds        String[]
  /// Could not determine type: the field only had null or empty values in the sample set.
  phoneNumber   Json?
  photoURL      String?
  providerId    String?
  role          String           @default("user")
  stripe        UserStripe?
  mercadopago   UserMercadoPago?
  uid           String?
}
